"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const { lstat, mkdir } = fs_1.promises;
exports.isFile = async (filepath) => {
    if (!fs_1.existsSync(filepath))
        return false;
    const fileStats = await lstat(filepath);
    return fileStats.isFile();
};
exports.isDir = async (dirpath) => {
    if (!fs_1.existsSync(dirpath))
        return false;
    const stats = await lstat(dirpath);
    return stats.isDirectory();
};
exports.ensureDir = async (dirpath) => {
    if (!(await exports.isDir(dirpath)))
        await mkdir(dirpath, { recursive: true });
};
var ExitCodes;
(function (ExitCodes) {
    ExitCodes[ExitCodes["success"] = 0] = "success";
    ExitCodes[ExitCodes["error"] = 1] = "error";
    ExitCodes[ExitCodes["no_overwrite"] = 10] = "no_overwrite";
    ExitCodes[ExitCodes["no_file_overwrite"] = 11] = "no_file_overwrite";
})(ExitCodes = exports.ExitCodes || (exports.ExitCodes = {}));
